{"version":3,"sources":["Images/404.png","Store/Actions/searchActions.js","Images/home.png","Images/book-flat.png","Store/Actions/genresActions.js","Store/Actions/menuActions.js","Components/Header/Searchbar.js","Components/Header/Datebar.js","Components/Header/GenreMenu/SubMenuLnks.js","Components/Header/GenreMenu/SubMenu.js","Components/Header/GenreMenu/Menu.js","Components/Header/Header.js","Store/Actions/contentActions.js","Components/Parts/Loader.js","Components/Parts/Book-Parts/BookPlaceholder.js","Components/Parts/Book.js","Util/bookHelpers.js","Components/Home/HomeGenre.js","Components/Home/Home.js","Components/Genres/Genres.js","Components/DetailBook/DetailBook.js","Components/Search/SearchHeader.js","Components/Search/SearchBook.js","Components/Search/SearchPagination.js","Components/Search/404.js","Components/Search/SearchResults.js","Components/Footer/Footer.js","Components/App/App.js","Store/initialState.js","Store/Reducers/contentReducer.js","Store/Reducers/detailReducer.js","Store/Reducers/genresReducer.js","Store/Reducers/menuReducer.js","Store/Reducers/searchReducer.js","Store/Reducers/index.js","Store/index.js","index.js","Store/Actions/types.js","Images/arrow-down.png","Components/Parts/Book-Parts/AuthArray.js","Components/Parts/Book-Parts/Ratings.js","Store/Actions/detailActions.js","Util/APICalls.js"],"names":["module","exports","GR_KEY","API_CALLS","CORS","updateSearchTxt","text","type","GET_SEARCH_TXT","payload","updateSearchType","SEARCH_TYPE","getSearchTitle","searchTxt","pg","dispatch","fetchXML","then","data","work","Array","from","querySelectorAll","resultStart","parseInt","querySelector","textContent","totalResults","bookArr","map","book","indx","id","title","author","coverImg","pubYr","SEARCH_TITLE","getSearchAuth","getAuthId","NO_DATA","authorInfo","name","home","avatar","dscrpt","link","SEARCH_AUTH","searchLoading","bool","SEARCH_LOAD","NYT_API_KEY","getHomeContent","console","log","fetchJSON","genres","GET_HOME_CONTENT","results","lists","getGenreDates","dateMin","dateMax","SET_GENRE_DATES","genreLoading","GENRE_LOAD","getGenres","fetch","response","ok","json","Error","GET_GENRES","MemoSearchbar","React","memo","props","handleSearchSubmit","e","preventDefault","search","prevSearch","prevType","content","searchLnk","document","getElementById","click","className","htmlFor","value","onChange","target","placeholder","onKeyDown","keyCode","blur","to","replace","onClick","prevProps","nextProps","connect","state","date","dateCurr","genreTxt","changeWeek","CHANGE_WEEK","updateHomeDate","UPDATE_CONTENT_DATE","updateGenreDate","plusMinusDays","days","Date","getTime","handleWkJmpClk","newDate","dataset","toISOString","substr","data-name","src","require","alt","selected","srchDt","minDate","maxDate","peekNextMonth","onFocus","readOnly","showMonthDropdown","showYearDropdown","dropdownMode","handleGenreClick","currentTarget","parentElement","style","visibility","documentElement","focus","data-ref","tabIndex","onBlur","firstChild","color","background","handleSubGenreMenu","subGenres","btn","key","display_name","list_name_encoded","data-min-date","oldest_published_date","data-max-date","newest_published_date","onMouseDown","SubMenu","genreLst","genre","modifier","subGenre","innerText","array","menu","genreMenu","genreObj","navSubGenres","genGenreArr","filterTxt","flags","searchType","regxStr","RegExp","filter","test","genGenreMainObj","push","obj","genGenreSubObj","genreFicAndNonArr","genreYngAdult","genreKids","genreMisc","onGenreClick","menuLoading","loadingTrue","IS_LOADING","useEffect","navGenres","Loading","isLoading","BookPlaceholder","height","width","speed","primaryColor","secondaryColor","x","y","rx","ry","Book","LazyBkMain","lazy","LazyMinBkSub","LazyBkSub","fallback","isbn","buyLnk","buy_links","bkImg","book_image","description","rank","wksOnLst","weeks_on_list","isbnAssign","amazon_product_url","match","dateFormat","dateStr","split","shift","join","books","pathname","list","scrollTo","Loader","length","mainGenres","slice","homeGenreList","i","genHomeGenre","genreView","GET_NEW_GENRE","params","forEach","item","includes","monthDateStatus","detailLoading","detail","getBookDetail","cover","location","bkCover","setTimeout","innerHTML","authors","Ratings","rating","pgNum","isbn13","pubMt","pubDy","href","rel","url","MemoSearchHeader","authorDscrpt","authImg","homeTown","authLnk","rvwLnk","placeholders","getElementsByClassName","display","srchType","handleAuthClick","pubDt","smoothscroll","polyfill","pgArr","handlePgBtnClick","window","pgTotal","end","genPgBtns","NotFound","unfound","MemoSrchRslt","bksPrPg","Math","ceil","bookCode","SearchBook","SearchPagination","onPgClick","srchTxt","srchTyp","App","basename","path","component","Header","exact","Home","Genres","DetailBook","SearchResults","initialState","contentReducer","action","DETAIL_BK_VIEW","menuReducers","bookInfo","DETAIL_LOAD","genresReducer","searchReducers","rootReducer","combineReducers","detailReducer","menuReducer","searchReducer","middleware","thunk","store","createStore","compose","applyMiddleware","devToolsEnhancer","ReactDOM","render","authorTxt","authorArr","comma","Rating","initialRating","emptySymbol","fullSymbol","fractions","readonly","bkId","getBookId","NYT","process","NYT_API","OVRVW_QRY","ATHR_QRY","TTL_QRY","GNRE_QRY","GNRE_LST_QRY","GR","GR_API","GR_RVW_QRY","GR_ISBN_QRY","GR_GNRL_QRY","GR_BK_QRY","GR_QRY","input","str","DOMParser","parseFromString","getAttribute"],"mappings":"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","file":"static/js/main.a945b2ee.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/404.ab11e70c.png\";","import {GET_SEARCH_TXT, SEARCH_TYPE, NO_DATA, SEARCH_AUTH, SEARCH_TITLE, SEARCH_LOAD} from \"../Actions/types\";\r\nimport {API_CALLS, fetchXML, getAuthId} from \"../../Util/APICalls\";\r\n  \r\nconst { GR_KEY } = API_CALLS[\"GR\"];\r\nconst CORS = \"https://cors-anywhere.herokuapp.com/\";\r\n\r\nexport function updateSearchTxt(text){\r\n    return {\r\n        type: GET_SEARCH_TXT,\r\n        payload: text\r\n    }\r\n}\r\n\r\nexport function updateSearchType(type){\r\n    return {\r\n        type: SEARCH_TYPE,\r\n        payload: type\r\n    }\r\n};\r\n\r\nexport const getSearchTitle = (searchTxt, pg = 1) => {\r\n  return function(dispatch) {\r\n    fetchXML(\r\n      `${CORS}https://www.goodreads.com/search/index.xml?key=${GR_KEY}&search=title&q=${searchTxt}&page=${pg}`\r\n    ).then(data => {\r\n      let work = Array.from(data.querySelectorAll(\"work\"));\r\n      let resultStart = parseInt(\r\n        data.querySelector(\"search results-start\").textContent\r\n      );\r\n      let totalResults = parseInt(\r\n        data.querySelector(\"search total-results\").textContent\r\n      );\r\n      let bookArr = work.map((book, indx) => {\r\n        return {\r\n          indx: resultStart + indx,\r\n          id: book.querySelector(\"best_book id\").textContent,\r\n          title: book.querySelector(\"best_book title\").textContent,\r\n          author: book.querySelector(\"best_book author name\").textContent,\r\n          coverImg: book.querySelector(\"best_book image_url\").textContent,\r\n          pubYr: book.querySelector(\"original_publication_year\").textContent\r\n        };\r\n      });\r\n      dispatch({\r\n        type: SEARCH_TITLE,\r\n        searchTxt,\r\n        bookArr,\r\n        totalResults,\r\n        pg\r\n      });\r\n    });\r\n  };\r\n};\r\n\r\nexport const getSearchAuth = searchTxt => {\r\n    return function(dispatch) {\r\n      getAuthId(\r\n        `${CORS}https://www.goodreads.com/api/author_url/${searchTxt}?key=${GR_KEY}`\r\n      )\r\n        .then(id => {\r\n  \r\n          if(id === 0){\r\n            dispatch({\r\n              type: NO_DATA,\r\n            })\r\n            return\r\n          }\r\n          return fetchXML(\r\n            `${CORS}https://www.goodreads.com/author/show/${id}?format=xml&key=${GR_KEY}`\r\n          );\r\n        })\r\n        .then(data => {\r\n          let work = Array.from(data.querySelectorAll(\"author books book\"));\r\n          let authorInfo = {\r\n            name: data.querySelector(\"author name\").textContent,\r\n            home: data.querySelector(\"author hometown\").textContent,\r\n            avatar: data.querySelector(\"author image_url\").textContent,\r\n            dscrpt: data.querySelector(\"author about\").textContent,\r\n            link: data.querySelector(\"author link\").textContent\r\n          };\r\n          let bookArr = work.map((book, indx) => {\r\n            return {\r\n              id: book.querySelector(\"id\").textContent,\r\n              title: book.querySelector(\"title_without_series\").textContent,\r\n              coverImg: book.querySelector(\"image_url\").textContent,\r\n              pubYr: book.querySelector(\"publication_year\").textContent\r\n            };\r\n          });\r\n          dispatch({\r\n            type: SEARCH_AUTH,\r\n            bookArr,\r\n            authorInfo,\r\n            searchTxt\r\n          });\r\n        });\r\n    };\r\n  };\r\n\r\nexport const searchLoading = bool => {\r\n  return {\r\n    type: SEARCH_LOAD,\r\n    payload: bool\r\n  }\r\n}\r\n\r\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGYAAABRCAYAAAAgoNN3AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA51JREFUeNrsm89qFEEQxmfGPysadzWCoGB2CeRoFp/Ec06ecvMBchMRxDfw7C03UYRgCOQFcohrHsBc9CBuFCImYnasNr2om9mZ3qmume7pr6Bp2MzWdH2/6arqSRKnaRo1weI4vk/TAxovKKZX3sfjMxiC0aHpa84l1yi+b8x7cAT6TPe/GRQYEmykJoNLKcQ0qQmMunkcDJgyYpUWCGDkhSojEsBUIFIZoeoCk3gC5JENKGOhaTxEV1ZdkZ/VflHsF5DKakpdXOEApgYoJuIBzF8hVCCjqu87TUAU/1MRHjOh3GE2BSso/oJPJtPXD/J1GalMKHhbPoMFIxm4Dd/B1Zj41DhB7xYFrX++60Nn6AQYCvgJs8gvkOj3DJ9Ydd1C5JlVnsqkU5dkamtsKpOCQn5bY9+67W3ZFKnRqUwQykuajiY+PtKfewtHPJVZOMkPaI39srBzgL6jaTnIVEbBP2VC6XGg5F2n/faC2zGunU/qagqc2jGC9WSprG/dFCz5Unes7xhBKB9o6lpY4j7do1fVzql9x1BQCTOwvYJX711LS+3m1B11/73GtMsU6DOaThguFkmUu1Xm/xw4ah2LtZNRqYwzlAvOyPG7xvVtONakYsuLr2iwaoxgPXHm1YlXb5dpsXPMBW+4BKUgtal1bnD80jgvnsrIXjO3d1sydQim1jbT93OxVCaYuq7QdOjQMWKO1vq9ztSWOADlrWNQlB3qdVk/jBq/SjLZMU0q8r40BUkBkKvMBWz6DMWgKdhkNgWXZi7+ZG+Yxa7jcpG32BR0mL7XjYu/YOpSp+pB5K8tU2zvq0htZ8AIQvlI063If/tEMd6WhvMfmJCLvGtNQaKdtZkOt0KCYtAUbDGbgvafHcMUb558HIQExXDnXKdpWNZvon8BVXpRWVDI52oIUP55wlcztDngHEZL75icJ+Uk8uR/Oy3biDQ5ZytzjAUcWIKSBgplnH1SS69xBon+Yt/wC9uhFXnLTcG24YPfn6VdvkHXDjMWcpGmYyA5Yy3S62eGXvM0fTFql4u2nC7yWVDWAWWqHWt9JrUc5uk89eQ/uXNc++v5prTTRTrX+jv/0MEUtssAAzAAAzAAAwMYgAEYgAEYgPEIjG9vglf066FSQ33fl0ATPNMAAwMYgIEBDMDAAAYGMAADAxiAgQEMDGAABgYwAAMDGICBAQwMYAAG5g6YHiSU0YcFJk3TfZp2oH+m7Wh9StlvAQYADLaeLMdZYiMAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,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\"","import {\r\n    UPDATE_CONTENT_DATE,\r\n    GET_HOME_CONTENT,\r\n    GET_NEW_GENRE,\r\n    SET_GENRE_DATES,\r\n    CHANGE_WEEK,\r\n    GENRE_LOAD\r\n  } from \"./types\";\r\n  import {API_CALLS, fetchJSON} from \"../../Util/APICalls\";\r\n  \r\n  \r\n  const { NYT_API_KEY } = API_CALLS[\"NYT\"];\r\n  const CORS = \"https://cors-anywhere.herokuapp.com/\";\r\n\r\n  export const getHomeContent = dispatch => {\r\n    console.log(\"GET HOME CONTENT\")\r\n    return fetchJSON(\r\n      `${CORS}https://api.nytimes.com/svc/books/v3/lists/overview.json?current/&api-key=${NYT_API_KEY}`\r\n    ).then(genres => {\r\n      console.log(\"HAVE GOT HOME CONTENT\")\r\n      dispatch({\r\n        type: GET_HOME_CONTENT,\r\n        payload: genres.results.lists\r\n      });\r\n    });\r\n  };\r\n\r\n  export const updateHomeDate = date => {\r\n    return function(dispatch) {\r\n      fetchJSON(\r\n        `${CORS}https://api.nytimes.com/svc/books/v3/lists/overview.json?published_date=${date}&api-key=${NYT_API_KEY}`\r\n      ).then(genres => {\r\n        dispatch({\r\n          type: UPDATE_CONTENT_DATE,\r\n          payload: genres.results.lists\r\n        });\r\n      });\r\n    };\r\n  };\r\n\r\n  export const genreView = (genreTxt, dateMin, dateMax = new Date()) => {\r\n    return function(dispatch) {\r\n      fetchJSON(\r\n        `${CORS}https://api.nytimes.com/svc/books/v3/lists/${genreTxt}.json?api-key=${NYT_API_KEY}`\r\n      ).then(genres => {\r\n        dispatch({\r\n          type: GET_NEW_GENRE,\r\n          payload: genres.results,\r\n          genreTxt,\r\n          dateMin,\r\n          dateMax\r\n        });\r\n      });\r\n    };\r\n  };\r\n\r\n  export const getGenreDates = (dateMin, dateMax) => {\r\n    return {\r\n      type: SET_GENRE_DATES,\r\n      dateMin,\r\n      dateMax\r\n    }\r\n  }\r\n  \r\n  export const updateGenreDate = (date, genreTxt) => {\r\n    return function(dispatch) {\r\n      fetchJSON(\r\n        `${CORS}https://api.nytimes.com/svc/books/v3/lists/${date}/${genreTxt}.json?api-key=${NYT_API_KEY}`\r\n      ).then(genres => {\r\n        dispatch({\r\n          type: UPDATE_CONTENT_DATE,\r\n          payload: genres.results\r\n        });\r\n      });\r\n    };\r\n  };\r\n\r\n  export const changeWeek = (date) => {\r\n    return {type: CHANGE_WEEK,\r\n            payload: date\r\n    }\r\n};\r\n\r\n  export const genreLoading = (bool) => {\r\n    return {\r\n      type: GENRE_LOAD,\r\n      payload: bool\r\n    }\r\n  }\r\n  \r\n  \r\n\r\n","import {GET_GENRES} from \"./types\";\r\nimport {API_CALLS} from \"../../Util/APICalls\";\r\n\r\nconst { NYT_API_KEY } = API_CALLS[\"NYT\"];\r\nconst CORS = \"https://cors-anywhere.herokuapp.com/\";\r\n\r\nexport const getGenres = dispatch => {\r\n  fetch(\r\n    `${CORS}https://api.nytimes.com/svc/books/v3/lists/names.json?&api-key=${NYT_API_KEY}`\r\n  )\r\n    .then(response => {\r\n      if (response.ok) {\r\n        return response.json();\r\n      } else {\r\n        throw new Error(\"Bad Response...\");\r\n      }\r\n    })\r\n    .then(genres =>\r\n      dispatch({\r\n        type: GET_GENRES,\r\n        payload: genres.results\r\n      })\r\n    )\r\n};\r\n","import React from \"react\";\r\nimport {Link} from \"react-router-dom\";\r\nimport {updateSearchTxt, updateSearchType, searchLoading} from \"../../Store/Actions/searchActions\";\r\nimport {connect} from \"react-redux\";\r\n\r\nfunction Searchbar(props) {\r\n  function handleSelectUpdate(e) {\r\n    return props.dispatch(updateSearchType(e.target.value));\r\n  }\r\n\r\n  function handleSearchText(e) {\r\n    return props.dispatch(updateSearchTxt(e.target.value));\r\n  }\r\n\r\n  function handleEnter(e) {\r\n    if (e.keyCode === 13) {\r\n      e.target.blur();\r\n      return handleSearchSubmit(e);\r\n    }\r\n    return;\r\n  }\r\n\r\n  function handleSearchSubmit(e) {\r\n    e.preventDefault();\r\n    if (props.search.text === \"\" || (props.search.prevSearch === props.search.text && props.search.type === props.search.prevType && props.content !== \"search\")){\r\n      return null;\r\n    }\r\n    let searchLnk = document.getElementById(\"search-link\");\r\n    props.dispatch(searchLoading(true));\r\n    searchLnk.click()\r\n  }\r\n\r\n  return (\r\n    <div className=\"search\">\r\n      <label htmlFor=\"search options\">\r\n        <select\r\n          id=\"search options\"\r\n          className=\"search search__type\"\r\n          value={props.search.type}\r\n          onChange={handleSelectUpdate}\r\n          name=\"search-options\"\r\n        >\r\n          <option value=\"title\">Title</option>\r\n          <option value=\"author\">Author</option>\r\n        </select>\r\n      </label>\r\n      <label htmlFor=\"search input\">\r\n        <input\r\n          id=\"search input\"\r\n          name=\"search input\"\r\n          className=\"search search__input\"\r\n          type=\"text\"\r\n          placeholder=\"Search...\"\r\n          onChange={handleSearchText}\r\n          onKeyDown={handleEnter}\r\n          value={props.search.text}\r\n        />\r\n      </label>\r\n      <Link \r\n        id=\"search-link\" \r\n        to={`/search/${props.search.type}=${props.search.text.replace(\" \", \"+\")}&pg=1`}\r\n        >\r\n        <button className=\"search search__btn\" onClick={(e) => handleSearchSubmit(e)}>\r\n          Search\r\n        </button>\r\n      </Link>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst MemoSearchbar = React.memo(Searchbar, (prevProps, nextProps) => {\r\n  if (prevProps === nextProps) {\r\n    return true;\r\n  }\r\n  return false;\r\n});\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    search: state.search,\r\n    content: state.content.text\r\n\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps)(MemoSearchbar)\r\n","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {updateHomeDate, updateGenreDate, changeWeek} from \"../../Store/Actions/genresActions\";\r\nimport DatePicker from \"react-datepicker\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\n\r\nfunction Datebar(props) {\r\n  if (props.content.text === \"search\" || props.content.text === \"detail\") {\r\n    return <></>;\r\n  }\r\n\r\n  function plusMinusDays(date, days, type) {\r\n    if (type === \"add\") {\r\n      return new Date(date.getTime() + days * 86400000);\r\n    } else {\r\n      return new Date(date.getTime() - days * 86400000);\r\n    }\r\n  }\r\n\r\n  function handleDtChng(date) {\r\n    props.changeWeek(date);\r\n    let srchDt = date.toISOString().substr(0, 10);\r\n    if (props.content.text === \"home\") {\r\n      return props.updateHomeDate(srchDt);\r\n    }\r\n    return props.updateGenreDate(srchDt, props.genreTxt);\r\n  }\r\n\r\n  function handleWkJmpClk(e) {\r\n    let newDate;\r\n    if (e.target.dataset.name === \"prev\") {\r\n      let dateMin = plusMinusDays(props.dateMin, 7, \"add\");\r\n      if (props.date < dateMin) {\r\n        return null;\r\n      } else {\r\n        newDate = plusMinusDays(props.date, 7, \"subtract\");\r\n      }\r\n    } else {\r\n      let dateMax = plusMinusDays(props.dateMax, 7, \"subtract\");\r\n      if (props.date > dateMax) {\r\n        return null;\r\n      } else {\r\n        newDate = plusMinusDays(props.date, 7, \"add\");\r\n      }\r\n    }\r\n    props.changeWeek(newDate);\r\n    newDate = newDate.toISOString().substr(0, 10);\r\n    if (props.content.text === \"home\") {\r\n      props.updateHomeDate(newDate);\r\n    } else {\r\n      props.updateGenreDate(newDate, props.genreTxt);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"date-picker\">\r\n      <button className=\"date-picker__wk-btn\" onClick={handleWkJmpClk} data-name=\"prev\">\r\n        <img className=\"arrow-left\" src={require(\"../../Images/arrow-down.png\")} alt=\"arrow\"/>\r\n        {\" Prev Week\"}\r\n      </button>\r\n      <DatePicker\r\n        selected={props.date}\r\n        onChange={handleDtChng}\r\n        minDate={props.dateMin}\r\n        maxDate={props.dateMax}\r\n        peekNextMonth\r\n        onFocus={e => (e.target.readOnly = true)}\r\n        showMonthDropdown\r\n        showYearDropdown\r\n        dropdownMode=\"select\"\r\n      />\r\n      <button className=\"date-picker__wk-btn\" onClick={handleWkJmpClk} data-name=\"next\">\r\n        {\"Next Week \"}\r\n        <img className=\"arrow-right\" src={require(\"../../Images/arrow-down.png\")} alt=\"arrow\"/>\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    date: state.genres.dateCurr,\r\n    dateMin: state.genres.dateMin,\r\n    dateMax: state.genres.dateMax,\r\n    genreTxt: state.genres.text,\r\n    content: state.content\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    changeWeek: date => {\r\n      dispatch(changeWeek(date));\r\n    },\r\n    updateHomeDate: date => {\r\n      dispatch(updateHomeDate(date));\r\n    },\r\n    updateGenreDate: (date, genreTxt) => {\r\n      dispatch(updateGenreDate(date, genreTxt));\r\n    }\r\n  };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Datebar);\r\n\r\n","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {Link} from 'react-router-dom';\r\nimport {getGenreDates, genreLoading} from \"../../../Store/Actions/genresActions\";\r\n\r\nfunction SubMenuLnks(props) {\r\n\r\n  function handleGenreClick(e) {\r\n    e.preventDefault();\r\n    let dateMin = e.currentTarget.dataset.minDate;\r\n    let dateMax = e.currentTarget.dataset.maxDate;\r\n    props.dispatch(genreLoading(true));\r\n    props.dispatch(getGenreDates(dateMin, dateMax));\r\n    e.target.parentElement.parentElement.style.visibility = \"hidden\";\r\n    document.documentElement.focus();\r\n    e.target.parentElement.click();\r\n  }\r\n\r\n  function handleSubGenreMenu(e) {\r\n    e.target.style.visibility = \"hidden\";\r\n    e.target.parentElement.firstChild.firstChild.style.color = \"\";\r\n    e.target.parentElement.firstChild.style.background = \"\";\r\n  }\r\n\r\n  function genGenreBtns(array) {\r\n    return array.map(btn => {\r\n      return (\r\n        <Link key={btn.display_name} to={`/genre/${btn.list_name_encoded}`}>\r\n          <button\r\n            data-name={btn.list_name_encoded}\r\n            data-min-date={btn.oldest_published_date}\r\n            data-max-date={btn.newest_published_date}\r\n            onMouseDown={handleGenreClick}\r\n          >\r\n            {btn.display_name}\r\n          </button>\r\n        </Link>\r\n      );\r\n    });\r\n  }\r\n\r\n  return (\r\n    <div\r\n      className=\"genre-menu__btns\"\r\n      data-ref={props.title}\r\n      tabIndex=\"-1\"\r\n      onBlur={e => handleSubGenreMenu(e)}\r\n    >\r\n      {genGenreBtns(props.subGenres)}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default connect(null)(SubMenuLnks)\r\n","import React from \"react\";\r\nimport SubMenuLnks from \"./SubMenuLnks\";\r\n\r\nfunction SubMenu(props) {\r\n  function handleGenreClick(e) {\r\n    e.currentTarget.querySelector(\"h5\").style.color = \"white\";\r\n    e.currentTarget.style.background = \"#AAA58E\";\r\n    let subGenre = document.querySelector(\r\n      '[data-ref=\"' + e.target.innerText + '\"]'\r\n    );\r\n    subGenre.style.visibility = \"visible\";\r\n    subGenre.focus();\r\n  }\r\n\r\n  function genGenreLst(genreArr) {\r\n    let subGenreArr = genreArr.map(genre => {\r\n      let modifier = \"\";\r\n      if (genre.title === \"Misc.\" || genre.title === \"Children's Books\") {\r\n        modifier = \" sub-genre--right\";\r\n      }\r\n      return (\r\n        <div key={genre.title} className={\"genre-menu__sub-genre\" + modifier}>\r\n          <button onClick={e => handleGenreClick(e)}>\r\n            <h5>{genre.title}</h5>\r\n          </button>\r\n          <SubMenuLnks\r\n            key={genre.title + \" sub-genre-title\"}\r\n            title={genre.title}\r\n            subGenres={genre.array}\r\n          />\r\n        </div>\r\n      );\r\n    });\r\n    return subGenreArr;\r\n  }\r\n\r\n  return <div className=\"genre-menu\">{genGenreLst(props.genreLst)}</div>;\r\n}\r\n\r\nexport default SubMenu;\r\n","import React from \"react\";\r\nimport SubMenu from \"./SubMenu\";\r\nimport {connect} from \"react-redux\";\r\n\r\nfunction Menu(props) {\r\n  let genreObj = { navSubGenres: [] };\r\n\r\n function genGenreArr(filterTxt, flags, searchType) {\r\n    let regxStr = new RegExp(filterTxt, flags);\r\n    if (searchType) {\r\n      return props.menu.filter(genre =>\r\n        regxStr.test(genre[\"display_name\"])\r\n      );\r\n    } else {\r\n      return props.menu.filter(\r\n        genre => !regxStr.test(genre[\"display_name\"])\r\n      );\r\n    }\r\n  }\r\n\r\n  function genGenreSubObj(title, array) {\r\n    let obj = {};\r\n    obj[\"title\"] = title;\r\n    obj[\"array\"] = array;\r\n    return obj;\r\n  }\r\n\r\n  function genGenreMainObj(title, array) {\r\n    genreObj.navSubGenres.push(genGenreSubObj(title, array));\r\n  }\r\n\r\n  let genreFicAndNonArr = genGenreArr(\".fiction\", \"i\", true);\r\n  let genreYngAdult = genGenreArr(\"adult\", \"i\", true);\r\n  let genreKids = genGenreArr(\"children\", \"i\", true);\r\n  let genreMisc = genGenreArr(\".fiction|children|adult\", \"i\", false);\r\n  genGenreMainObj(\"Fiction/Non-Fiction\", genreFicAndNonArr);\r\n  genGenreMainObj(\"Young Adult\", genreYngAdult);\r\n  genGenreMainObj(\"Children's Books\", genreKids);\r\n  genGenreMainObj(\"Misc.\", genreMisc);\r\n\r\n  return (\r\n    <div className=\"genres\">\r\n      <SubMenu\r\n        onGenreClick={(genre, minDate, maxDate) =>\r\n          props.onGenreClick(genre, minDate, maxDate)\r\n        }\r\n        genreLst={genreObj.navSubGenres}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    menu: state.menu.genreMenu\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps)(Menu)\r\n","import React, {useEffect} from \"react\";\r\nimport {Link} from 'react-router-dom';\r\nimport {connect} from \"react-redux\";\r\nimport {isLoading} from \"../../Store/Actions/contentActions\";\r\nimport {getGenreDates, genreLoading} from \"../../Store/Actions/genresActions\";\r\nimport {getGenres} from \"../../Store/Actions/menuActions\";\r\nimport Searchbar from \"./Searchbar\";\r\nimport Datebar from \"./Datebar\";\r\nimport Menu from \"./GenreMenu/Menu\";\r\nimport \"./Header.css\";\r\n\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n      loadingTrue: () => {\r\n        dispatch(isLoading(true))\r\n      },\r\n      getGenres: () => {\r\n        dispatch(getGenres);\r\n      },\r\n      getGenreDates: (minDate, maxDate) => {\r\n        dispatch(getGenreDates(minDate, maxDate));\r\n      },\r\n      genreLoading: (bool) => {\r\n        dispatch(genreLoading(bool))\r\n      }\r\n  }\r\n}\r\n\r\nfunction Header(props) {\r\n  const {getGenres, genreLoading} = props;\r\n    useEffect(() => {\r\n      getGenres();\r\n\r\n    },[getGenres]);\r\n\r\n\r\n\r\n  const handleHomeClick = () => {\r\n    if (props.content !== \"home\"){\r\n      genreLoading(true);\r\n    }\r\n  }\r\n  \r\n  if (props.menuLoading) {\r\n    return <></>;\r\n  }\r\n\r\n  return (\r\n    <nav className=\"nav\">\r\n      <div className=\"nav-top\">\r\n        <div className=\"nav__title-corner\">\r\n          <Link to=\"/\">\r\n          <button className=\"nav__home-btn\" onClick={handleHomeClick}>\r\n            <img src={require(\"../../Images/home.png\")} alt=\"home-btn\"/>\r\n          </button>\r\n          </Link>\r\n          <h1 className=\"nav__site-title\">BSB</h1>\r\n        </div>\r\n        <div className=\"nav-menu\">\r\n          <Searchbar />\r\n          <Datebar />\r\n        </div>\r\n      </div>\r\n      <div className=\"nav-bottom\">\r\n        <Menu\r\n          onGenreClick={(genre, minDate, maxDate) => props.onGenreClick(genre, minDate, maxDate)}\r\n          genreLst={props.navGenres}\r\n        />\r\n      </div>\r\n    </nav>\r\n  );\r\n}\r\n\r\n// const MemoHeader = React.memo(Nav, (prevProps, nextProps) => {\r\n//   return (\r\n//     prevProps.genreTxt === nextProps.genreTxt &&\r\n//     prevProps.date === nextProps.date &&\r\n//     prevProps.navGenres === nextProps.navGenres &&\r\n//     prevProps.searchTxt === nextProps.searchTxt &&\r\n//     prevProps.searchTyp === nextProps.searchTyp &&\r\n//     prevProps.content === nextProps.content\r\n//   );\r\n// });\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    menu: state.menu,\r\n    genreTxt: state.genres.text,\r\n    menuLoading: state.menu.menuLoading,\r\n    content: state.content.text\r\n  }\r\n}\r\n\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Header)\r\n","import { IS_LOADING} from \"./types\";\r\n\r\n  export const isLoading = (bool) => {\r\n    return {\r\n      type: IS_LOADING,\r\n      payload: bool\r\n    }\r\n  }","import React from 'react';\r\nimport \"../App/App.css\";\r\n\r\nfunction Loading(props) {\r\n    return (\r\n                <div className={props.isLoading ? \"loading loading-active\" : \"loading\"} >\r\n                    <img src={require(\"../../Images/book-flat.png\")} alt=\"book\" />\r\n                </div>\r\n    )\r\n}\r\n\r\nexport default Loading\r\n","import React from 'react'\r\nimport ContentLoader from \"react-content-loader\";\r\n\r\nfunction BookPlaceholder(props) {\r\n    return (\r\n      <ContentLoader\r\n      className=\"book-placeholder\"\r\n      height={550}\r\n      width={300}\r\n      speed={2}\r\n      primaryColor=\"#f3f3f3\"\r\n      secondaryColor=\"#ecebeb\"\r\n    >\r\n      <rect x=\"0\" y=\"0\" rx=\"4\" ry=\"4\" width=\"40\" height=\"39\" />\r\n      <rect x=\"0\" y=\"515\" rx=\"4\" ry=\"4\" width=\"250\" height=\"13\" />\r\n      <rect x=\"0\" y=\"50\" rx=\"4\" ry=\"4\" width=\"300\" height=\"450\" />\r\n      <rect x=\"0\" y=\"535\" rx=\"4\" ry=\"4\" width=\"150\" height=\"13\" />\r\n      <rect x=\"0\" y=\"555\" rx=\"4\" ry=\"4\" width=\"100\" height=\"13\" />\r\n    </ContentLoader>\r\n    )\r\n}\r\n\r\nexport default BookPlaceholder\r\n","import React, {Suspense, lazy} from \"react\";\r\nimport BkPlaceholder from \"./Book-Parts/BookPlaceholder\";\r\nimport \"./Book.css\";\r\n\r\nfunction Book(props) {\r\n  const LazyBkMain = lazy(() =>  import(\"./Book-Parts/BookMain\"));\r\n  const LazyMinBkSub = lazy(() => import(\"./Book-Parts/BookSubMin\"));\r\n  const LazyBkSub = lazy(() => import(\"./Book-Parts/BookSub\"));\r\n\r\n  return (\r\n    <div className=\"book-container\" data-ref={props.type}>\r\n      <Suspense fallback={<BkPlaceholder type={props.type}/>}>\r\n        <LazyBkMain\r\n          key={props.book.title + \"main-info\"}\r\n          type={props.type}\r\n          isbn={props.isbn}\r\n          buyLnk={props.book.buy_links[2]}\r\n          title={props.book.title}\r\n          author={props.book.author}\r\n          bkImg={props.book.book_image}\r\n          dscrpt={props.book.description}\r\n          rank={props.book.rank}\r\n        />\r\n        {props.type === \"overview\" ? (\r\n          <LazyMinBkSub\r\n            key={props.book.title + \"min-sub-info\"}\r\n            wksOnLst={props.book.weeks_on_list}\r\n          />\r\n        ) : (\r\n          <LazyBkSub\r\n            key={props.book.title + \"sub-info\"}\r\n            buyLnk={props.book.buy_links[1]}\r\n            title={props.book.title}\r\n            author={props.book.author}\r\n            isbn={props.isbn}\r\n          />\r\n        )}\r\n        </Suspense>\r\n      </div>\r\n  );\r\n}\r\n\r\nexport default Book;\r\n","\r\nexport function isbnAssign(book) {\r\n    let url = book.amazon_product_url;\r\n    let isbn = url.match(/[^/dp/]*(?=\\?)/g)[0];\r\n    return isbn;\r\n}\r\n\r\nexport function dateFormat(date){\r\n    date = new Date(date);\r\n    if (date >= new Date() - 7) {\r\n        return \"Current\";\r\n    }\r\n    let dateStr = date.toISOString().substr(0, 10);\r\n    dateStr = dateStr.split(\"-\");\r\n    dateStr.push(dateStr.shift());\r\n    dateStr = dateStr.join(\"/\");\r\n    return dateStr;\r\n}\r\n\r\nexport function monthDateStatus(genre){\r\n    if (genre.includes(\"Audio\") ||\r\n        genre === \"Business\" ||\r\n        genre === \"Science\" ||\r\n        genre === \"Sports and Fitness\"\r\n      ) {\r\n       return \"(List is updated monthly)\";\r\n      }\r\n      return \"\";\r\n}","import React from \"react\";\r\nimport Book from \"../Parts/Book\";\r\nimport {isbnAssign} from \"../../Util/bookHelpers\";\r\nimport {genreLoading} from \"../../Store/Actions/genresActions\";\r\nimport {connect} from \"react-redux\";\r\nimport {Link} from 'react-router-dom';\r\n\r\nfunction HomeGenre(props) {\r\n  let isbn;\r\n\r\n\r\n  let bookArr = props.books.map(book => {\r\n    isbn = isbnAssign(book);\r\n    return (\r\n      <Book\r\n        key={`${props.genre.display_name}-${book.title}`}\r\n        type=\"overview\"\r\n        isbn={isbn}\r\n        book={book}\r\n      />\r\n    );\r\n  });\r\n\r\n  return (\r\n    <div className=\"overview-genre\">\r\n      <Link \r\n       to={{pathname: `/genre/${props.genre.list_name_encoded}`}}\r\n       className=\"overview-genre__title\" \r\n       onClick={() => props.dispatch(genreLoading(true))}\r\n      >\r\n        {`${props.genre.display_name} ...`}\r\n      </Link>\r\n      <div className=\"overview-books\">\r\n        {bookArr}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default connect(null)(HomeGenre);\r\n","import React, {useEffect} from \"react\";\r\nimport {getHomeContent} from \"../../Store/Actions/genresActions\";\r\nimport { connect } from \"react-redux\";\r\nimport Loader from \"../Parts/Loader\";\r\nimport HomeGenre from \"./HomeGenre\";\r\nimport \"./Home.css\";\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n    getHomeContent: () => {\r\n      dispatch(getHomeContent);\r\n    }\r\n  }\r\n}\r\n\r\nfunction Home(props) {\r\n  const {getHomeContent} = props;\r\n  useEffect(() => {\r\n    document.documentElement.scrollTo(0,0);\r\n    getHomeContent();\r\n  }, [getHomeContent])\r\n  \r\n    if (props.genreLoading || props.menuLoading) {\r\n      return <Loader isLoading={props.genreLoading}/>\r\n    }\r\n    if (props.genreLst.length > 0){\r\n      var mainGenres = props.genreLst.slice(0, 5);\r\n      var homeGenreList = [];\r\n\r\n      function genHomeGenre(genreLst) {\r\n        for (let i = 0; i < 5; i++) {\r\n          homeGenreList.push(\r\n            <HomeGenre\r\n              key={genreLst[i].display_name}\r\n              books={genreLst[i].books}\r\n              genre={genreLst[i]}\r\n            />\r\n          );\r\n        }\r\n      }\r\n      genHomeGenre(mainGenres);\r\n    }\r\n    return <div className=\"overview-container\">{homeGenreList}</div>;  \r\n  }\r\n \r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    genreLst: state.genres.list,\r\n    menuLoading: state.menu.menuLoading,\r\n    genreLoading: state.genres.genreLoading\r\n  };\r\n};\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Home)\r\n","import React, {useEffect} from \"react\";\r\nimport Book from \"../Parts/Book\";\r\nimport Loader from \"../Parts/Loader\";\r\nimport {genreView} from \"../../Store/Actions/genresActions\";\r\nimport {isbnAssign, dateFormat, monthDateStatus} from \"../../Util/bookHelpers\";\r\nimport { connect } from \"react-redux\";\r\nimport \"../Parts/Book.css\";\r\nimport \"./Genres.css\";\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        genreView: (genreTxt) => {\r\n            dispatch(genreView(genreTxt));\r\n        }\r\n    };\r\n};\r\n\r\n function Genres(props) {\r\n     const {genreView} = props;\r\n     let minDate, maxDate, genre;\r\n     if (document.querySelector(\"button[data-name=\" + props.genre.list_name_encoded + \"]\")){\r\n      genre = document.querySelector(\"button[data-name=\" + props.genre.list_name_encoded + \"]\");\r\n      minDate = dateFormat(genre.dataset.minDate);\r\n      maxDate = dateFormat(genre.dataset.maxDate);\r\n    }\r\n     useEffect(() => {\r\n      document.documentElement.scrollTo(0,0);\r\n       if (props.genreLoading){\r\n        genreView(props.match.params.genre);\r\n      }\r\n     }, [genreView, props.match.params.genre, props.genreLoading])\r\n\r\n    if (props.menuLoading || props.genreLoading || props.match.params.genre !== props.genreTxt){\r\n      return <Loader isLoading={props.genreLoading} />\r\n    }\r\n    document.querySelectorAll(\"genre-menu__btns\").forEach(item => (item.style.visibility = \"hidden\"));\r\n\r\n \r\n\r\n    let bookArr = props.books.map((book, indx) => {\r\n      let isbn = isbnAssign(book);\r\n      return (\r\n        <Book\r\n          key={book.title + \"-\" + indx}\r\n          type=\"genre\"\r\n          indx={indx}\r\n          isbn={isbn}\r\n          book={book}\r\n        />\r\n      );\r\n    });\r\n\r\n    return (\r\n      <div className=\"genre-container\">\r\n        <div className=\"genre-container__title-block\">\r\n          <h3>{props.genre.display_name}</h3>\r\n          <p>\r\n            Active from: {minDate} to {maxDate}\r\n          </p>\r\n          <p>{monthDateStatus(props.genre.display_name)}</p>\r\n          </div>\r\n          <div className=\"booklist-container\">\r\n          {bookArr}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    menu: state.menu,\r\n    menuLoading: state.menu.menuLoading,\r\n    genre: state.genres.list,\r\n    content: state.content.text,\r\n    genreTxt: state.genres.text,\r\n    books: state.genres.list.books,\r\n    dateMin: state.genres.dateMin,\r\n    dateMax: state.genres.dateMax,\r\n    genreLoading: state.genres.genreLoading\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Genres);\r\n","import React, {useEffect} from \"react\";\r\nimport Loader from \"../Parts/Loader\";\r\nimport AuthorArray from \"../Parts/Book-Parts/AuthArray\";\r\nimport Ratings from \"../Parts/Book-Parts/Ratings\";\r\nimport {getBookDetail} from \"../../Store/Actions/detailActions\";\r\nimport {connect} from \"react-redux\";\r\nimport \"./DetailBook.css\";\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        getBookDetail: (cover, id) => {\r\n            dispatch(getBookDetail(cover, id));\r\n        }\r\n    }\r\n}\r\n\r\nfunction SingleBk (props) {\r\n    const {getBookDetail} = props;\r\n    useEffect(() => {\r\n      document.documentElement.scrollTo(0,0);\r\n        getBookDetail(props.location.state.bkCover, props.match.params.id);\r\n    }, [getBookDetail, props.match.params.id, props.location.state.bkCover])\r\n\r\n    if (props.detailLoading){\r\n      return <Loader isLoading={props.detailLoading}/>\r\n    }\r\n\r\n    setTimeout(() => {document.getElementById(\"bk-description\").innerHTML = props.book.dscrpt;}, 500);\r\n\r\n    return (\r\n      <div className=\"sngl-bk-container\">\r\n        <div className=\"sngl-bk-main\">\r\n          <div className=\"sngl-bk-main__cover-title\">\r\n            <img src={props.location.state.bkCover} alt={props.book.title} />\r\n            <h3>{props.book.title}</h3>\r\n            <div className=\"book-container__author-info\">\r\n              <p>by</p>\r\n              <AuthorArray authors={props.book.author}/>\r\n            </div>\r\n          </div>\r\n          <div className=\"sngl-bk-main__dscrpt\">\r\n            <h5>Description</h5>\r\n            <p id=\"bk-description\"></p>\r\n          </div>\r\n        </div>\r\n        <div className=\"sngl-bk-sub\">\r\n          <Ratings rating={props.book.rating}/>\r\n          <p>{`Total Pg: ${props.book.pgNum}`}</p>\r\n          <p>{`ISBN13: ${props.book.isbn13}`}</p>\r\n          <p>{`Published: ${props.book.pubMt}/${props.book.pubDy}/${props.book.pubYr}`}</p>\r\n          <a\r\n          href={`https://www.goodreads.com/book/show/${props.id}`}\r\n          rel=\"noopener noreferrer\"\r\n          target=\"_blank\"\r\n        > Read Reviews\r\n        </a>\r\n        <a\r\n          className=\"book-buy-link\"\r\n          href={props.location.state.buyLnk.url}\r\n          rel=\"noopener noreferrer\"\r\n          target=\"_blank\"\r\n        >\r\n          Buy this Book\r\n        </a>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  \r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    detailLoading: state.detail.detailLoading,\r\n    book: state.detail.book,\r\n    content: state.content.text,\r\n    id: state.detail.id\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(SingleBk);\r\n","import React, { useEffect } from \"react\";\r\n\r\nfunction SearchHeader(props) {\r\n  useEffect(() => {\r\n    let description = props.authorDscrpt;\r\n    if (props.authorDscrpt.length === 0) {\r\n      description = \"No Description Available\";\r\n    }\r\n    document.getElementById(\"authorInfo\").innerHTML = description;\r\n  });\r\n\r\n  return (\r\n    <div className=\"srch-author-container\">\r\n      <div className=\"author-main\">\r\n        <img src={props.authImg} alt={props.author} />\r\n        <h2 className=\"srch-author-container__auth-name\">{props.author}</h2>\r\n        <p>Home: {props.homeTown}</p>\r\n        <a href={props.authLnk} rel=\"noopener noreferrer\" target=\"_blank\">\r\n          More on the author...\r\n        </a>\r\n      </div>\r\n      <div id=\"authorInfo\"></div>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst MemoSearchHeader = React.memo(SearchHeader, (prevProps, nextProps) => {\r\n  if (\r\n    prevProps.author === nextProps.author ||\r\n    prevProps.authorDscrpt === nextProps.authorDscrpt\r\n  ) {\r\n    return true;\r\n  }\r\n  return false;\r\n});\r\n\r\nexport default MemoSearchHeader;\r\n","import React, { useEffect } from \"react\";\r\nimport {Link} from \"react-router-dom\";\r\nimport {searchLoading,} from \"../../Store/Actions/searchActions\";\r\nimport {connect} from \"react-redux\";\r\nimport BookPlaceholder from \"../Parts/Book-Parts/BookPlaceholder\";\r\n\r\nfunction SrchBk(props) {\r\n  let title = props.title;\r\n   let rvwLnk;\r\n \r\n   function handleAuthClick(e) {\r\n     e.preventDefault();\r\n     props.dispatch(searchLoading(true));\r\n     e.target.parentElement.click();\r\n  }\r\n\r\n  useEffect(() => {\r\n    let placeholders = document.getElementsByClassName(\"book-placeholder\");\r\n    let books = document.getElementsByClassName(\"book-hide\");\r\n    for (let i = 0; i < placeholders.length; i++) {\r\n      placeholders[i].style.display = \"none\";\r\n      books[i].style.display = \"flex\";\r\n    }\r\n  });\r\n\r\n    if (props.title.length > 60) {\r\n       title = title.substr(0, 60) + \"...\";\r\n    }\r\n    rvwLnk = `https://www.goodreads.com/book/show/${props.id}`;\r\n\r\n  return (\r\n    <div className=\"srch-bk-container\" data-ref={props.srchType}>\r\n      <BookPlaceholder />\r\n      <div className=\"book-hide\" style={{ display: \"none\" }}>\r\n        <div>\r\n          <div className=\"srch-bk-container__indx\">\r\n            {props.indx ? props.indx + \".\" : null}\r\n          </div>\r\n          <img\r\n            className=\"srch-bk-container__cover\"\r\n            src={props.cover}\r\n            alt={props.title}\r\n          />\r\n          <h5 className=\"srch-bk-container__title\">{title}</h5>\r\n          {props.searchType === \"title\" ? (\r\n            <div className=\"srch-bk-container__author-info\">\r\n              <p>by: </p>\r\n              <Link to={`/search/author=${props.author}&pg=1`}>\r\n                <button\r\n                  className=\"srch-bk-container__author-btns\"\r\n                  onClick={e => handleAuthClick(e)}\r\n                >\r\n                  {props.author}\r\n                </button>\r\n              </Link>\r\n            </div>\r\n          ) : null}\r\n          <p>Published: {props.pubDt}</p>\r\n        </div>\r\n        <a href={rvwLnk} rel=\"noopener noreferrer\" target=\"_blank\">\r\n          ...more info\r\n        </a>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default connect(null)(SrchBk);\r\n","import React from \"react\";\r\nimport {searchLoading} from \"../../Store/Actions/searchActions\";\r\nimport {connect} from \"react-redux\";\r\nimport {Link} from 'react-router-dom';\r\nimport smoothscroll from \"smoothscroll-polyfill\";\r\n\r\nfunction SrchBtns(props) {\r\n  smoothscroll.polyfill();\r\n  let placeholders = document.getElementsByClassName(\"srch-book-placeholder\");\r\n  let books = document.getElementsByClassName(\"book-hide\");\r\n  let pgArr = [];\r\n\r\n  function handlePgBtnClick(pg) {\r\n    for (let i = 0; i < placeholders.length; i++) {\r\n      placeholders[i].style.display = \"block\";\r\n      books[i].style.display = \"none\";\r\n    }\r\n    window.scrollTo(0, 0);\r\n    props.dispatch(searchLoading(true));\r\n  }\r\n\r\n  function genPgBtns(pgTotal) {\r\n    let end = props.pg + 4;\r\n    let i = props.pg - 4;\r\n    if (i <= 0) {\r\n      i = 1;\r\n      end = 9;\r\n    }\r\n    if (pgTotal < 10) {\r\n      end = pgTotal;\r\n    }\r\n    if (end > pgTotal) {\r\n      end = pgTotal;\r\n      i = pgTotal - 8;\r\n    }\r\n    for (i; i <= end; i++) {\r\n      pgArr.push(\r\n        <Link to={`/search/${props.searchType}=${props.searchTxt}&pg=${i}`}\r\n          key={i}\r\n          className={i === props.pg ? \"current-pg\" : null}\r\n          onClick={e => handlePgBtnClick(e.target.innerText)}\r\n        >\r\n          {i}\r\n        </Link>\r\n      );\r\n    }\r\n  }\r\n\r\n  genPgBtns(props.pgTotal);\r\n\r\n  return (\r\n    <div className=\"srch-pagination\">\r\n      {props.pg > 4 ? (\r\n        <Link to={`/search/${props.searchType}=${props.searchTxt}&pg=1`}\r\n         onClick={() => handlePgBtnClick(1)}>\r\n          {\"<\"}\r\n        </Link>\r\n      ) : null}\r\n      {pgArr}\r\n      {props.pg + 4 < props.pgTotal ? (\r\n        <Link to={`/search/${props.searchType}=${props.searchTxt}&pg=${props.pgTotal}`}\r\n         onClick={() => handlePgBtnClick(props.pgTotal)}>\r\n         {\">\"}\r\n        </Link>\r\n      ) : null}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default connect(null)(SrchBtns);\r\n","import React from \"react\";\r\nimport unfound from \"../../Images/404.png\";\r\n\r\nfunction NotFound() {\r\n  return (\r\n    <div className=\"no-results\">\r\n      <img src={unfound} alt=\"book-stack\"></img>\r\n      <p>Sorry, We Couldn't Find What You're Looking For....</p>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default NotFound;\r\n","import React, {useEffect} from \"react\";\r\nimport Loader from \"../Parts/Loader\";\r\nimport {getSearchTitle, getSearchAuth} from \"../../Store/Actions/searchActions\";\r\nimport {connect} from \"react-redux\";\r\nimport SearchHeader from \"./SearchHeader\";\r\nimport SearchBook from \"./SearchBook\";\r\nimport SearchPagination from \"./SearchPagination\";\r\nimport NotFound from \"./404\";\r\nimport \"./Search.css\";\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        getSearchTitle: (text, pg) => {\r\n            dispatch(getSearchTitle(text, pg));\r\n        },\r\n        getSearchAuth: (text) => {\r\n            dispatch(getSearchAuth(text));\r\n        }\r\n    }\r\n}\r\nfunction SrchRslt(props) {\r\n    const {getSearchTitle, getSearchAuth} = props;\r\n    document.documentElement.scrollTo(0,0);\r\n    useEffect(() => {\r\n        if (props.match.params.type === \"title\"){\r\n            getSearchTitle(props.match.params.text, props.match.params.pg);\r\n        }\r\n        else {\r\n            getSearchAuth(props.match.params.text);\r\n        }\r\n    }, [getSearchTitle, getSearchAuth, props.match.params])\r\n\r\n    if (props.searchLoading || props.menuLoading){\r\n      return <Loader isLoading={props.searchLoading}/>\r\n    }\r\n\r\n    if (props.results === 0) {\r\n      return <NotFound />;\r\n    }\r\n\r\n    let bksPrPg = props.match.params.type === \"title\" ? 20 : null;\r\n    let pgTotal = props.results > 2000 ? 100 : Math.ceil(props.results / bksPrPg);\r\n\r\n    let bookCode = props.bookArr.map((book, indx) => {\r\n      return (\r\n        <SearchBook\r\n          key={book.title + indx}\r\n          searchType={props.match.params.type}\r\n          author={book.author}\r\n          indx={book.indx}\r\n          id={book.id}\r\n          title={book.title}\r\n          cover={book.coverImg}\r\n          pubDt={book.pubYr}\r\n        />\r\n      );\r\n    });\r\n\r\n    return (\r\n      <div className=\"srch-container\">\r\n        {props.search.type === \"author\" ? (\r\n          <SearchHeader\r\n            author={props.author.name}\r\n            authorDscrpt={props.author.dscrpt}\r\n            homeTown={props.author.home}\r\n            authLnk={props.author.link}\r\n            authImg={props.author.avatar}\r\n          />\r\n        ) : (\r\n          <h2>TITLE SEARCH RESULTS</h2>\r\n        )}\r\n        <div className=\"srch-bk-list\">{bookCode}</div>\r\n        {props.match.params.type === \"author\" ? null : (\r\n          <SearchPagination\r\n            onPgClick={(srchTxt, srchTyp, pg) =>\r\n              props.onPgClick(srchTxt, srchTyp, pg)\r\n            }\r\n            searchTxt={props.match.params.text}\r\n            searchType={props.match.params.type}\r\n            pg={parseInt(props.match.params.pg)}\r\n            pgTotal={pgTotal}\r\n          />\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n\r\nconst MemoSrchRslt = React.memo(SrchRslt, (prevProps, nextProps) => {\r\n  if (\r\n      prevProps.bookArr === nextProps.bookArr \r\n      && prevProps.searchLoading === nextProps.searchLoading\r\n      && prevProps.match.params === nextProps.match.params){\r\n    return true\r\n  }\r\n  return false\r\n})\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    search: state.search,\r\n    bookArr: state.search.books,\r\n    pg: state.search.pg,\r\n    results: state.search.results,\r\n    author: state.search.author,\r\n    menuLoading: state.menu.menuLoading,\r\n    searchLoading: state.search.searchLoading\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(MemoSrchRslt);\r\n\r\n\r\n","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport \"./Footer.css\";\r\n\r\nfunction Footer(props) {\r\n    if (props.menuLoading){\r\n        return <></>;\r\n    }\r\n  return (\r\n    <div className=\"footer-container\">\r\n      <div className=\"footer-container__left\">\r\n        <p>Portfolio: <a href=\"https://danschultz.dev\" rel=\"noopener noreferrer\" target=\"_blank\">https://danschultz.dev</a></p>\r\n        <p>Code & Design by Dan Schultz</p>\r\n        <p>Copyright&#9400; 2019</p>\r\n      </div>\r\n      <div className=\"footer-container__right\">\r\n      <h5>Resources</h5>\r\n        <a\r\n          href=\"https://www.nytimes.com/books/best-sellers/\"\r\n          rel=\"noopener noreferrer\"\r\n          target=\"_blank\"\r\n        >\r\n          https://www.nytimes.com/books/best-sellers/\r\n        </a>\r\n        <a\r\n          href=\"https://www.goodreads.com\"\r\n          rel=\"noopener noreferrer\"\r\n          target=\"_blank\"\r\n        >\r\n          https://www.goodreads.com\r\n        </a>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        menuLoading: state.menu.menuLoading,\r\n        genreLoading: state.genres.genreLoading,\r\n        detailLoading: state.detail.detailLoading,\r\n        searchLoading: state.search.searchLoading\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(Footer);\r\n","import React from 'react';\nimport smoothscroll from \"smoothscroll-polyfill\";\nimport {HashRouter as Router, Switch, Route} from \"react-router-dom\"\nimport Header from \"../Header/Header\";\nimport Home from \"../Home/Home\";\nimport Genres from \"../Genres/Genres\";\nimport DetailBook from \"../DetailBook/DetailBook\";\nimport SearchResults from \"../Search/SearchResults\";\nimport Footer from \"../Footer/Footer\";\nimport './App.css';\n\nfunction App() {\n  smoothscroll.polyfill();\n  return (\n    <Router basename=\"/best-selling-books/\">\n      <div className=\"App\">\n        <Route path=\"/\" component={Header}/>\n        <Switch>\n          <Route path=\"/\" exact component={Home}/>\n          <Route path=\"/genre/:genre\"  component={Genres} />\n          <Route path=\"/book/:id\"  component={DetailBook} />\n          <Route path=\"/search/:type=:text&pg=:pg\" component={SearchResults} />\n        </Switch>\n        <Footer/>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n","export const initialState = {\r\n    content: {\r\n        text: \"\",\r\n    },\r\n       detail: {\r\n        book: {},\r\n           cover: \"\",\r\n           detailLoading: true\r\n           \r\n       },\r\n       genres: {\r\n           dateCurr: new Date(),\r\n           dateMin: new Date(\"2008-06-08\"),\r\n           dateMax: new Date(),\r\n           genreLoading: true,\r\n           list: {},\r\n           text: \"\"\r\n       },\r\n       menu: {\r\n           genreMenu: {},\r\n           menuLoading: true\r\n       },\r\n       search: {\r\n           author: {},\r\n            books: [],\r\n            pg: 0,\r\n            prevSearch: \"\",\r\n            prevType: \"\",\r\n            results: 0,\r\n            searchLoading: true,\r\n            text: \"\",\r\n            type: \"title\"\r\n       }\r\n  };\r\n  ","import {GET_HOME_CONTENT, GET_NEW_GENRE, DETAIL_BK_VIEW, SEARCH_AUTH, SEARCH_TITLE, IS_LOADING} from \"../Actions/types\";\r\n  \r\n  let initialState = {\r\n      content: {\r\n        text: \"\",\r\n        isLoading: false,\r\n      }\r\n  };\r\n  \r\n  const contentReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n      case GET_HOME_CONTENT:\r\n      return {\r\n        ...state,\r\n        text: 'home',\r\n      };\r\n      case GET_NEW_GENRE:\r\n          return {\r\n            ...state,\r\n            text: 'genre',\r\n          };\r\n          case DETAIL_BK_VIEW:\r\n            return {\r\n              ...state,\r\n              text: 'detail'\r\n            }\r\n      case SEARCH_AUTH:\r\n      case SEARCH_TITLE:\r\n        return {\r\n          ...state,\r\n          text: 'search'\r\n        }\r\n      case IS_LOADING:\r\n        return {\r\n          ...state,\r\n          isLoading: action.payload\r\n        }\r\n      default:\r\n        return state;\r\n    }\r\n  };\r\n  \r\n  export default contentReducer;\r\n  ","import {DETAIL_BK_VIEW, DETAIL_LOAD} from \"../Actions/types\";\r\n\r\nconst menuReducers = (state = [], action) => {\r\n    switch(action.type){      \r\n        case DETAIL_BK_VIEW:\r\n            return {\r\n                book: action.bookInfo,\r\n                cover: action.cover,\r\n                id: action.id,\r\n                detailLoading: false\r\n            } \r\n            case DETAIL_LOAD:\r\n                return {\r\n                    ...state,\r\n                    detailLoading: action.payload\r\n                }        \r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default menuReducers;","import {GET_HOME_CONTENT, GET_NEW_GENRE, SET_GENRE_DATES, GENRE_LOAD, CHANGE_WEEK, UPDATE_CONTENT_DATE} from \"../Actions/types\";\r\n  \r\n  let initialState = {\r\n       genres: {\r\n           dateCurr: \"\",\r\n           dateMin: \"\",\r\n           dateMax: \"\",\r\n           list: {},\r\n           text: \"\"\r\n       }\r\n  };\r\n  \r\n  const genresReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n      case GET_HOME_CONTENT:\r\n      return {\r\n        ...state,\r\n        dateCurr: new Date(),\r\n        text: \"\",\r\n        list: action.payload,\r\n        genreLoading: false,\r\n      };\r\n      case UPDATE_CONTENT_DATE:\r\n        return {\r\n          ...state,\r\n          list: action.payload\r\n        }\r\n      case GET_NEW_GENRE:\r\n          return {\r\n            ...state,\r\n            list: action.payload,\r\n            text: action.genreTxt,\r\n            genreLoading: false,\r\n          };\r\n      case SET_GENRE_DATES:\r\n        return {\r\n          ...state,\r\n          dateMin: new Date(action.dateMin),\r\n          dateMax: new Date(action.dateMax),\r\n          dateCurr: new Date(action.dateMax),\r\n        }\r\n      case CHANGE_WEEK:\r\n        return {\r\n          ...state,\r\n          dateCurr: action.payload\r\n        }\r\n      case GENRE_LOAD:\r\n        return {\r\n          ...state,\r\n          genreLoading: action.payload\r\n        }\r\n      default:\r\n        return state;\r\n    }\r\n  };\r\n  \r\n  export default genresReducer;\r\n  ","import {GET_GENRES} from \"../Actions/types\";\r\n\r\nconst menuReducers = (state = [], action) => {\r\n    switch(action.type){\r\n        case GET_GENRES:\r\n            return {\r\n                genreMenu: action.payload,\r\n                menuLoading: false\r\n            }                  \r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default menuReducers;","import {GET_NEW_GENRE,\r\n      GET_HOME_CONTENT,\r\n      GET_SEARCH_TXT, SEARCH_TYPE, \r\n      SEARCH_AUTH, \r\n      SEARCH_TITLE, \r\n      NO_DATA,\r\n      SEARCH_LOAD} from \"../Actions/types\";\r\n\r\n\r\n\r\nconst searchReducers = (state = \"\", action) => {\r\n    switch(action.type){\r\n        case SEARCH_TITLE:\r\n                return {\r\n                    ...state,\r\n                    prevSearch: action.searchTxt,\r\n                    text: action.searchTxt,\r\n                    books: action.bookArr,\r\n                    pg: action.pg,\r\n                    results: action.totalResults,\r\n                    prevType: \"title\",\r\n                    type: \"title\",\r\n                    searchLoading: false\r\n                }\r\n        case SEARCH_AUTH:\r\n            return {\r\n                ...state,\r\n                author: action.authorInfo,\r\n                books: action.bookArr,\r\n                prevSearch: action.searchTxt,\r\n                text: action.searchTxt,\r\n                prevType: \"author\",\r\n                type: \"author\",\r\n                results: 1,\r\n                searchLoading: false\r\n            }\r\n            case GET_HOME_CONTENT:\r\n                return {\r\n                    ...state,\r\n                    text: \"\",\r\n                    type: 'title'\r\n                }\r\n        case GET_NEW_GENRE:\r\n            return{\r\n                ...state,\r\n                text: \"\",\r\n                type: 'title'\r\n            }\r\n        case GET_SEARCH_TXT:\r\n            return {\r\n                ...state,\r\n                text: action.payload}\r\n        case SEARCH_TYPE:\r\n            return {\r\n                ...state,\r\n                type: action.payload\r\n            }\r\n        case NO_DATA:\r\n            return {\r\n                ...state,\r\n                results: 0,\r\n                searchLoading: false\r\n            }\r\n        case SEARCH_LOAD:\r\n            return {\r\n                ...state,\r\n                searchLoading: action.payload\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default searchReducers;","import {combineReducers} from \"redux\";\r\nimport contentReducer from \"./contentReducer\";\r\nimport detailReducer from \"./detailReducer\";\r\nimport genresReducer from \"./genresReducer\";\r\nimport menuReducer from \"./menuReducer\";\r\nimport searchReducer from \"./searchReducer\";\r\n\r\n\r\nconst rootReducer = combineReducers({content: contentReducer, detail: detailReducer, genres: genresReducer, menu: menuReducer, search: searchReducer})\r\n\r\nexport default rootReducer;\r\n","import {createStore, applyMiddleware, compose} from \"redux\";\r\nimport {initialState} from \"./initialState\";\r\nimport {devToolsEnhancer} from 'redux-devtools-extension/developmentOnly';\r\nimport thunk from \"redux-thunk\";\r\nimport rootReducer from \"./Reducers\";\r\n\r\nlet middleware = [thunk];\r\n\r\nconst store = createStore(rootReducer, initialState, compose(\r\n    applyMiddleware(...middleware), devToolsEnhancer()))\r\n\r\nexport default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './Components/App/App';\nimport {Provider} from \"react-redux\";\nimport store from \"./Store\"\n\nReactDOM.render(\n    <Provider store={store}>\n        <App />\n    </Provider>, \n    document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n// serviceWorker.unregister();\n","export const GET_GENRES = 'GET_GENRES';\r\n\r\nexport const GENRE_LOAD = 'GENRE_LOAD';\r\n\r\nexport const GET_DATE = 'GET_DATE';\r\n\r\nexport const GET_RATING = 'GET_RATING';\r\n\r\nexport const GET_PG_CONTENT = 'GET_PG_CONTENT';\r\n\r\nexport const GET_SEARCH_TXT = 'GET_SEARCH_TXT';\r\n\r\nexport const SEARCH_TYPE = 'SEARCH_TYPE';\r\n\r\nexport const SEARCH_TITLE = 'SEARCH_TITLE';\r\n\r\nexport const SEARCH_AUTH = 'SEARCH_AUTH';\r\n\r\nexport const SEARCH_LOAD = 'SEARCH_LOAD';\r\n\r\nexport const DATE_CHANGE = 'DATE_CHANGE';\r\n\r\nexport const CHANGE_WEEK = 'CHANGE_WEEK';\r\n\r\nexport const UPDATE_CONTENT_DATE = 'UPDATE_CONTENT_DATE';\r\n\r\nexport const GET_HOME_CONTENT = 'GET_HOME_CONTENT';\r\n\r\nexport const GET_NEW_GENRE = 'GET_NEW_GENRE';\r\n\r\nexport const SET_GENRE_DATES = 'SET_GENRE_DATES';\r\n\r\nexport const DETAIL_BK_VIEW = 'DETAIL_BK_VIEW';\r\n\r\nexport const DETAIL_LOAD = 'DETAIL_LOAD';\r\n\r\nexport const NO_DATA = 'NO_DATA';\r\n\r\nexport const IS_LOADING = 'IS_LOADING';","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAE0AAAAzCAYAAADSIYUBAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAfhJREFUeNrs208og2EcB/BnSokIidxcSFoSWkkc5MbJCQdLUuIgDk6clNsOHFBaSIoTJTc5EK2WFHMiKQdRO5A/SeL3bkub9m7P++95nz+/b30P22l9evY+7/t7Ng+JZwBaDP0hGL3kQF+h29qLzQQWlq4nHlxd5pbcLjIYyoW20gqgt9By9KBKtbbS3qDtaEGVLuhN8hv9eJHP2Fk9yQDipO1+tiV4hEgpvaf53uZDo4j11xraC54XsWLtMbpT+BUHmzO7xS4pCnZo9d4kpBjYAzTXKpq2MbwohFZr151wsyJgfXY/QgxLDhZw6tlrVVKwU6cfWs8kA3uE5jmNVgR9lwitjtWIpE0SsCHWs6UxwcHm3RrKbQgKFnJ7mhkRDOwZWug2WlliZC4KWgMvs/MWQcD8vB06THAOtszrac0ap2AHvB9zhTkDe0ocinOdEhL/oQgvaF5RDlV9nID1inYaPeoy2IKox/hBl8COieA5ZwwWZTHqYfHE8MEQrZFIklZGYINEsow7DLZIJM2WQ2BhInmuZBz1sNgYvmxEayKKpMMmsBGiWKYsgq0QRbNjEuySKJ5rg2DaBKVUdbRKg2g+gomlmxJsEqlSM50FbB2J0mdPByyCNPrR/qt19w/sE1qBNJlTBf1OQsP/bVGmHjoD7eTxw/0KMABtJcagysleZwAAAABJRU5ErkJggg==\"","import React from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport {getSearchAuth, searchLoading} from \"../../../Store/Actions/searchActions\";\r\nimport {connect} from 'react-redux';\r\n\r\nfunction AuthorArray(props) {\r\n    let authorTxt = props.authors;\r\n        if (typeof props.authors === \"string\"){\r\n          authorTxt = props.authors.split(/,|\\sand\\s|\\swith\\s/);\r\n        }\r\n        let authorArr =  authorTxt.map((author, indx) => {\r\n        let comma = \"\";\r\n          if (indx < authorTxt.length - 1) {\r\n            comma = \",\";\r\n          }\r\n          return (\r\n            <span key={author}>\r\n              <Link to={`/search/author=${author}&pg=1`}\r\n                className=\"author-btn\"\r\n                onClick={() => {\r\n                  props.dispatch(searchLoading(true));\r\n                  props.dispatch(getSearchAuth(author));\r\n                }}\r\n              >\r\n                {author + comma}\r\n              </Link>\r\n            </span>\r\n          );\r\n        });\r\n    return (\r\n    <div className=\"book-container__author-btns\" data-ref={props.type}>\r\n      {authorArr}\r\n    </div>\r\n    )\r\n}\r\n\r\nexport default connect(null)(AuthorArray)\r\n\r\n\r\n","import React from 'react'\r\nimport StarRating from \"react-rating\";\r\n\r\nfunction Rating(props) {\r\n    return (\r\n        <>\r\n        {props.rating === 0 ? (\r\n          \"No Rating Available\"\r\n        ) : (\r\n          <div>\r\n            <StarRating\r\n              className=\"book-container__ratings\"\r\n              initialRating={props.rating}\r\n              emptySymbol=\"far fa-star fa-lg\"\r\n              fullSymbol=\"fas fa-star fa-lg\"\r\n              fractions={2}\r\n              readonly\r\n            />\r\n            {props.rating}\r\n          </div>\r\n        )}\r\n      </>\r\n    )\r\n}\r\n\r\nexport default Rating\r\n","import {DETAIL_BK_VIEW, DETAIL_LOAD} from \"./types\";\r\n  import {API_CALLS, fetchXML, getBookId} from \"../../Util/APICalls\";\r\n\r\n  const { GR_KEY } = API_CALLS[\"GR\"];\r\n  const CORS = \"https://cors-anywhere.herokuapp.com/\";\r\n\r\nexport const getBookDetail = (cover, isbn) => {\r\n    return function(dispatch){\r\n      let bkId;\r\n      return getBookId(`${CORS}https://www.goodreads.com/book/isbn/${isbn}?key=${GR_KEY}`)\r\n      .then(id => {\r\n        bkId = id;\r\n        return fetchXML(`${CORS}https://www.goodreads.com/book/show/${id}?key=${GR_KEY}`)\r\n      })\r\n      .then(data => {\r\n        let author = data.querySelector(\"authors\");\r\n        author = author.querySelectorAll(\"author name\");\r\n        let authors = Array.from(author).map(author => author.textContent)\r\n        let bookInfo = {\r\n          title: data.querySelector(\"book title\").textContent,\r\n          dscrpt: data.querySelector(\"book description\").textContent,\r\n          author: authors,\r\n          pubYr: data.querySelector(\"book original_publication_year\").textContent,\r\n          pubMt: data.querySelector(\"book original_publication_month\").textContent,\r\n          pubDy: data.querySelector(\"book original_publication_day\").textContent,\r\n          pgNum: data.querySelector(\"book num_pages\").textContent,\r\n          rating: data.querySelector(\"book average_rating\").textContent,\r\n          isbn13: data.querySelector(\"book isbn13\").textContent,\r\n        }\r\n        dispatch({\r\n          type: DETAIL_BK_VIEW,\r\n          bookInfo,\r\n          cover,\r\n          id: bkId\r\n        });\r\n      });\r\n    }\r\n  }\r\n\r\n  export const detailLoading = (bool) => {\r\n    return {\r\n      type: DETAIL_LOAD,\r\n      payload: bool\r\n    }\r\n  }","export const API_CALLS = {\r\n    NYT: {\r\n      NYT_API_KEY: process.env.REACT_APP_NYT_API_KEY,\r\n      NYT_API: \"https://api.nytimes.com/svc/books/v3/\",\r\n      OVRVW_QRY: \"lists/overview.json?\",\r\n      ATHR_QRY: \"reviews.json?author=\",\r\n      TTL_QRY: \"reviews.json?title=\",\r\n      GNRE_QRY: \"lists/\",\r\n      GNRE_LST_QRY: \"lists/names.json?\"\r\n    },\r\n    GR: {\r\n      GR_KEY: process.env.REACT_APP_GR_API_KEY,\r\n      GR_API: \"https://www.goodreads.com/\",\r\n      GR_RVW_QRY: \"book/review_counts.json?isbns=\",\r\n      GR_ISBN_QRY: \"book/isbn/\",\r\n      GR_GNRL_QRY: \"search/index.xml?key=\",\r\n      GR_BK_QRY: \"book/show/\",\r\n      GR_QRY: \"author/show/\"\r\n    }\r\n  };\r\n  \r\n  export const fetchJSON = (input) => {\r\n    return fetch(input).then(response => {\r\n      if (response.ok) {\r\n        return response.json();\r\n      } else {\r\n        throw new Error(\"Bad Response...\");\r\n      }\r\n    });\r\n  }\r\n  \r\n  export const fetchXML = (input) => {\r\n    return fetch(input)\r\n      .then(response => {\r\n        if (response.ok) {\r\n          return response.text();\r\n        } else {\r\n          throw new Error(\"Bad Response\");\r\n        }\r\n      })\r\n      .then(str => new window.DOMParser().parseFromString(str, \"text/xml\"));\r\n  }\r\n  \r\n  export const getAuthId = (input) => {\r\n    return fetchXML(input)\r\n    .then(data => {\r\n      if (data.querySelector('author') === null){\r\n        return 0\r\n      }\r\n      return data.querySelector(\"author\").getAttribute(\"id\");\r\n    });\r\n  }\r\n  \r\n  export const getBookId = (input) => {\r\n    return fetchXML(input)\r\n    .then(data => {\r\n      return data.querySelector(\"book id\").textContent;\r\n    });\r\n  }"],"sourceRoot":""}